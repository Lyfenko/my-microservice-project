# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ü—Ä–æ—î–∫—Ç—É Terraform

–¶–µ–π –ø—Ä–æ—î–∫—Ç Terraform –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –±–∞–∑–æ–≤–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤ AWS, –≤–∫–ª—é—á–∞—é—á–∏ S3-–±–∞–∫–µ—Ç –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å—Ç–∞–Ω—É Terraform, —Ç–∞–±–ª–∏—Ü—é DynamoDB –¥–ª—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É, –∞ —Ç–∞–∫–æ–∂ –º–æ–¥—É–ª—ñ –¥–ª—è VPC —Ç–∞ ECR (—è–∫—ñ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ).

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É `lesson-5`


–ü—Ä–æ—î–∫—Ç –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–∏–π –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:

```plaintext
lesson-5/
‚îú‚îÄ‚îÄ .terraform/
‚îÇ   ‚îî‚îÄ‚îÄ # –õ–æ–∫–∞–ª—å–Ω–∏–π –∫–µ—à Terraform, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –ø—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è `terraform init`
‚îú‚îÄ‚îÄ .terraform.lock.hcl
‚îÇ   ‚îî‚îÄ‚îÄ # –§–∞–π–ª –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≤–µ—Ä—Å—ñ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤ Terraform
‚îú‚îÄ‚îÄ backend.tf
‚îÇ   ‚îî‚îÄ‚îÄ # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ S3-–±–µ–∫–µ–Ω–¥—É –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É Terraform
‚îú‚îÄ‚îÄ init.sh
‚îÇ   ‚îî‚îÄ‚îÄ # –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ—á–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –±–µ–∫–µ–Ω–¥—É
‚îú‚îÄ‚îÄ main.tf
‚îÇ   ‚îî‚îÄ‚îÄ # –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó Terraform –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤
‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îî‚îÄ‚îÄ # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É (—Ü–µ–π —Ñ–∞–π–ª)
‚îú‚îÄ‚îÄ terraform.tfstate
‚îÇ   ‚îî‚îÄ‚îÄ # –§–∞–π–ª —Å—Ç–∞–Ω—É Terraform (–ø—ñ—Å–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó –Ω–∞ S3 –º—ñ—Å—Ç–∏—Ç—å –ª–∏—à–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π —Å—Ç–∞–Ω)
‚îú‚îÄ‚îÄ terraform.tfstate.backup
‚îÇ   ‚îî‚îÄ‚îÄ # –†–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è —Ñ–∞–π–ª—É —Å—Ç–∞–Ω—É Terraform
‚îú‚îÄ‚îÄ tfplan_main
‚îÇ   ‚îî‚îÄ‚îÄ # –ó–±–µ—Ä–µ–∂–µ–Ω–∏–π –ø–ª–∞–Ω –≤–∏–∫–æ–Ω–∞–Ω–Ω—è Terraform (—è–∫—â–æ –≥–µ–Ω–µ—Ä—É–≤–∞–≤—Å—è)
‚îî‚îÄ‚îÄ modules/
    ‚îú‚îÄ‚îÄ ecr/
    ‚îÇ   ‚îú‚îÄ‚îÄ ecr.tf                   # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ ECR-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
    ‚îÇ   ‚îú‚îÄ‚îÄ outputs.tf               # –í–∏—Ö—ñ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–¥—É–ª—è ECR
    ‚îÇ   ‚îî‚îÄ‚îÄ variables.tf             # –í—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –º–æ–¥—É–ª—è ECR
    ‚îú‚îÄ‚îÄ s3-backend/
    ‚îÇ   ‚îú‚îÄ‚îÄ dynamodb.tf              # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É DynamoDB –¥–ª—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É
    ‚îÇ   ‚îú‚îÄ‚îÄ outputs.tf               # –í–∏—Ö—ñ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–¥—É–ª—è S3-Backend
    ‚îÇ   ‚îú‚îÄ‚îÄ s3.tf                    # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É S3-–±–∞–∫–µ—Ç—É –¥–ª—è —Å—Ç–∞–Ω—É
    ‚îÇ   ‚îî‚îÄ‚îÄ variables.tf             # –í—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –º–æ–¥—É–ª—è S3-Backend
    ‚îî‚îÄ‚îÄ vpc/
        ‚îú‚îÄ‚îÄ outputs.tf               # –í–∏—Ö—ñ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–¥—É–ª—è VPC
        ‚îú‚îÄ‚îÄ routes.tf                # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤ —Ç–∞ —Ç–∞–±–ª–∏—Ü—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó VPC
        ‚îú‚îÄ‚îÄ variables.tf             # –í—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –º–æ–¥—É–ª—è VPC
        ‚îî‚îÄ‚îÄ vpc.tf                   # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ VPC (–º–µ—Ä–µ–∂–∞, –ø—ñ–¥–º–µ—Ä–µ–∂—ñ, —à–ª—é–∑–∏)

* **`.terraform/`**: –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è, —â–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è Terraform –ø—ñ—Å–ª—è `terraform init`. –ú—ñ—Å—Ç–∏—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏ —Ç–∞ –º–æ–¥—É–ª—ñ.
* **`.terraform.lock.hcl`**: –ó–∞–±–µ–∑–ø–µ—á—É—î, —â–æ Terraform –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç—ñ —Å–∞–º—ñ –≤–µ—Ä—Å—ñ—ó –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤ –ø—ñ–¥ —á–∞—Å –ø–æ–¥–∞–ª—å—à–∏—Ö –∑–∞–ø—É—Å–∫—ñ–≤, —è–∫ —ñ –ø—ñ–¥ —á–∞—Å –ø–µ—Ä—à–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.
* **`backend.tf`**: –§–∞–π–ª, —â–æ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º `init.sh` –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ S3-–±–µ–∫–µ–Ω–¥—É –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å—Ç–∞–Ω—É Terraform.
* **`init.sh`**: –°–∫—Ä–∏–ø—Ç –æ–±–æ–ª–æ–Ω–∫–∏ –¥–ª—è –ø–æ—á–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ Terraform, –≤–∫–ª—é—á–∞—é—á–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –±–µ–∫–µ–Ω–¥—É.
* **`main.tf`**: –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó Terraform, —è–∫–∏–π –≤–∏–∫–ª–∏–∫–∞—î —Ä—ñ–∑–Ω—ñ –º–æ–¥—É–ª—ñ –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏.
* **`README.md`**: –¶–µ–π —Ñ–∞–π–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó.
* **`terraform.tfstate`**: –õ–æ–∫–∞–ª—å–Ω–∏–π —Ñ–∞–π–ª —Å—Ç–∞–Ω—É Terraform. –ü—ñ—Å–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π –±–µ–∫–µ–Ω–¥ S3, —Ü–µ–π —Ñ–∞–π–ª –±—É–¥–µ –ª–∏—à–µ "–≤–∫–∞–∑—ñ–≤–Ω–∏–∫–æ–º" –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π —Å—Ç–∞–Ω –∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ–º (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–µ—Ä—Å—ñ—ó Terraform —ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó).
* **`terraform.tfstate.backup`**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª—É —Å—Ç–∞–Ω—É Terraform.
* **`tfplan_main`**: –ó–±–µ—Ä–µ–∂–µ–Ω–∏–π —Ñ–∞–π–ª –ø–ª–∞–Ω—É Terraform, —è–∫–∏–π –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –¥–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä—É–≤–∞–Ω–Ω—è –ø–ª–∞–Ω—É.
* **`modules/`**: –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è, —â–æ –º—ñ—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –º–æ–¥—É–ª—ñ Terraform.
    * **`ecr/`**: –ú–æ–¥—É–ª—å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ Amazon Elastic Container Registry (ECR).
        * `ecr.tf`: –ú—ñ—Å—Ç–∏—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É ECR.
        * `outputs.tf`: –í–∏–∑–Ω–∞—á–∞—î –≤–∏—Ö—ñ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–¥—É–ª—è.
        * `variables.tf`: –í–∏–∑–Ω–∞—á–∞—î –≤—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –º–æ–¥—É–ª—è.
    * **`s3-backend/`**: –ú–æ–¥—É–ª—å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è S3-–±–∞–∫–µ—Ç—É —Ç–∞ DynamoDB-—Ç–∞–±–ª–∏—Ü—ñ, –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –¥–ª—è –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å—Ç–∞–Ω—É Terraform —Ç–∞ –º–µ—Ö–∞–Ω—ñ–∑–º—É –±–ª–æ–∫—É–≤–∞–Ω–Ω—è.
        * `dynamodb.tf`: –ú—ñ—Å—Ç–∏—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É DynamoDB —Ç–∞–±–ª–∏—Ü—ñ.
        * `outputs.tf`: –í–∏–∑–Ω–∞—á–∞—î –≤–∏—Ö—ñ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–¥—É–ª—è.
        * `s3.tf`: –ú—ñ—Å—Ç–∏—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É S3 –±–∞–∫–µ—Ç—É.
        * `variables.tf`: –í–∏–∑–Ω–∞—á–∞—î –≤—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –º–æ–¥—É–ª—è.
    * **`vpc/`**: –ú–æ–¥—É–ª—å –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ—ó –ø—Ä–∏–≤–∞—Ç–Ω–æ—ó —Ö–º–∞—Ä–∏ (VPC) –≤ AWS.
        * `outputs.tf`: –í–∏–∑–Ω–∞—á–∞—î –≤–∏—Ö—ñ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–¥—É–ª—è.
        * `routes.tf`: –ú—ñ—Å—Ç–∏—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤ —Ç–∞ —Ç–∞–±–ª–∏—Ü—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó –¥–ª—è VPC.
        * `variables.tf`: –í–∏–∑–Ω–∞—á–∞—î –≤—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –º–æ–¥—É–ª—è.
        * `vpc.tf`: –ú—ñ—Å—Ç–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ñ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ VPC (—Å–∞–º–∞ –º–µ—Ä–µ–∂–∞, –ø—ñ–¥–º–µ—Ä–µ–∂—ñ —Ç–æ—â–æ).

---

## 2. –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –ó–∞–ø—É—Å–∫—É

–ü–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –±—É–¥—å-—è–∫–∏—Ö –∫–æ–º–∞–Ω–¥ Terraform –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ AWS CLI —Ç–∞ Terraform, –∞ —Ç–∞–∫–æ–∂ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ AWS (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ `aws configure`).

1.  **–ù–∞–¥–∞–Ω–Ω—è –ø—Ä–∞–≤ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—É:**
    ```bash
    chmod +x init.sh
    ```

2.  **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –±–µ–∫–µ–Ω–¥—É:**
    –¶—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞—î —Å–∫—Ä–∏–ø—Ç `init.sh`, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –ø–æ—á–∞—Ç–∫–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
    * –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è ID –≤–∞—à–æ–≥–æ AWS-–æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É.
    * –°—Ç–≤–æ—Ä–µ–Ω–Ω—è S3-–±–∞–∫–µ—Ç—É —Ç–∞ DynamoDB-—Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –±–µ–∫–µ–Ω–¥—É —Å—Ç–∞–Ω—É Terraform.
    * –ì–µ–Ω–µ—Ä–∞—Ü—ñ—é —Ñ–∞–π–ª—É `backend.tf` –∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ –±–µ–∫–µ–Ω–¥—É.
    * –ü–æ–≤—Ç–æ—Ä–Ω—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é Terraform –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó —Å—Ç–∞–Ω—É –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π –±–µ–∫–µ–Ω–¥.
    * –í–∏–∫–æ–Ω–∞–Ω–Ω—è `terraform apply` –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –±—É–¥—å-—è–∫–æ—ó —ñ–Ω—à–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏, –≤–∏–∑–Ω–∞—á–µ–Ω–æ—ó —É `main.tf` (–ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –±–µ–∫–µ–Ω–¥ –±—É–¥–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π).
    ```bash
    ./init.sh
    ```
    –ü—ñ–¥ —á–∞—Å —Ü—å–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É Terraform –º–æ–∂–µ –∑–∞–ø–∏—Ç–∞—Ç–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É –Ω–∞ –Ω–æ–≤–∏–π –±–µ–∫–µ–Ω–¥. –í–≤–µ–¥—ñ—Ç—å `yes`.

3.  **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–ª–∞–Ω—É –∑–º—ñ–Ω (–ø—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ –∑–∞–ø—É—Å–∫—É `init.sh`):**
    –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É `init.sh`, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ Terraform –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –∞–±–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω:
    ```bash
    terraform plan
    ```
    –¶—è –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ, —è–∫—ñ –∑–º—ñ–Ω–∏ Terraform –ø–ª–∞–Ω—É—î –≤–Ω–µ—Å—Ç–∏ —É –≤–∞—à—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –ø–æ—Ç–æ—á–Ω–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.

4.  **–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω (–ø—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ –∑–∞–ø—É—Å–∫—É `init.sh`):**
    ```bash
    terraform apply
    ```
    –¶—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞—Å—Ç–æ—Å—É—î –∑–º—ñ–Ω–∏, –ø–æ–∫–∞–∑–∞–Ω—ñ —É `terraform plan`, —Ä–æ–∑–≥–æ—Ä–Ω—É–≤—à–∏ –∞–±–æ –æ–Ω–æ–≤–∏–≤—à–∏ –≤–∞—à—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ AWS. Terraform –∑–∞–ø–∏—Ç–∞—î –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è–º –∑–º—ñ–Ω.

---

## 3. –ü–æ—è—Å–Ω–µ–Ω–Ω—è –ú–æ–¥—É–ª—ñ–≤

### `s3-backend` –ú–æ–¥—É–ª—å

* **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –¶–µ–π –º–æ–¥—É–ª—å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ AWS –¥–ª—è **–≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å—Ç–∞–Ω—É Terraform** —Ç–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –º–µ—Ö–∞–Ω—ñ–∑–º—É –±–ª–æ–∫—É–≤–∞–Ω–Ω—è.
* **–†–µ—Å—É—Ä—Å–∏, —â–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è**:
    * **S3 Bucket**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ñ–∞–π–ª—É `terraform.tfstate`, —è–∫–∏–π –≤—ñ–¥—Å—Ç–µ–∂—É—î —Å—Ç–∞–Ω –≤–∞—à–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–æ–º–∞–Ω–¥—ñ —Å–ø—ñ–≤–ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞–¥ –æ–¥–Ω–∏–º –ø—Ä–æ—î–∫—Ç–æ–º Terraform, –æ—Å–∫—ñ–ª—å–∫–∏ —Å—Ç–∞–Ω —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π.
    * **DynamoDB Table**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –º–µ—Ö–∞–Ω—ñ–∑–º—É **–±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É**. –¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î –æ–¥–Ω–æ—á–∞—Å–Ω–∏–º –∑–º—ñ–Ω–∞–º —Å—Ç–∞–Ω—É –∫—ñ–ª—å–∫–æ–º–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏, —â–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É.

### `vpc` –ú–æ–¥—É–ª—å

* **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –¶–µ–π –º–æ–¥—É–ª—å –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è **—ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ—ó –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ—ó –ø—Ä–∏–≤–∞—Ç–Ω–æ—ó —Ö–º–∞—Ä–∏ (Virtual Private Cloud)** –≤ AWS. VPC —î —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–º –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–º –±–ª–æ–∫–æ–º –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ —Ä–µ—Å—É—Ä—Å—ñ–≤ AWS, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –≤–∞–º –≤–∏–∑–Ω–∞—á–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ IP-–¥—ñ–∞–ø–∞–∑–æ–Ω–∏, –ø—ñ–¥–º–µ—Ä–µ–∂—ñ, –º–∞—Ä—à—Ä—É—Ç–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ —Ç–∞ –º–µ—Ä–µ–∂–µ–≤—ñ —à–ª—é–∑–∏.
* **–û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏**: –ó–∞–∑–≤–∏—á–∞–π —Å—Ç–≤–æ—Ä—é—î —Å–∞–º—É VPC, –ø—É–±–ª—ñ—á–Ω—ñ —Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø—ñ–¥–º–µ—Ä–µ–∂—ñ, —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-—à–ª—é–∑, NAT-—à–ª—é–∑–∏, –º–∞—Ä—à—Ä—É—Ç–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ —Ç–∞ –∞—Å–æ—Ü—ñ–∞—Ü—ñ—ó.

### `ecr` –ú–æ–¥—É–ª—å

* **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –¶–µ–π –º–æ–¥—É–ª—å –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ Amazon Elastic Container Registry (ECR)**. ECR ‚Äî —Ü–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–µ—Ä–æ–≤–∞–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π Docker-–æ–±—Ä–∞–∑—ñ–≤, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º –ª–µ–≥–∫–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏, –∫–µ—Ä—É–≤–∞—Ç–∏ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞—Ç–∏ –æ–±—Ä–∞–∑–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤.
* **–û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏**: –°—Ç–≤–æ—Ä—é—î –æ–¥–∏–Ω –∞–±–æ –∫—ñ–ª—å–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ ECR, –¥–µ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –æ–±—Ä–∞–∑–∏ Docker –¥–ª—è –≤–∞—à–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤.

---

## 4. –ü–æ—è—Å–Ω–µ–Ω–Ω—è –°–∫—Ä–∏–ø—Ç—É `init.sh`

–°–∫—Ä–∏–ø—Ç `init.sh` —î **–∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏–º** –¥–ª—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É. –í—ñ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –∫—Ä–æ–∫–∏, –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ Terraform –¥–æ —Ä–æ–±–æ—Ç–∏ –∑ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–º –±–µ–∫–µ–Ω–¥–æ–º.

**–û—Å–Ω–æ–≤–Ω—ñ –∫—Ä–æ–∫–∏, —è–∫—ñ –≤–∏–∫–æ–Ω—É—î `init.sh`:**

1.  **–û—Ç—Ä–∏–º–∞–Ω–Ω—è ID –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É AWS**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î AWS CLI –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤–∞—à–æ–≥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ ID –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É, —â–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –¥–ª—è —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ —ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è S3-–±–∞–∫–µ—Ç—É.
2.  **–û—á–∏—â–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤ Terraform**: –í–∏–¥–∞–ª—è—î –ª–æ–∫–∞–ª—å–Ω—ñ —Ñ–∞–π–ª–∏ —Å—Ç–∞–Ω—É (`.terraform`, `terraform.tfstate*`), —â–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —á–∏—Å—Ç–∏–π —Å—Ç–∞—Ä—Ç.
3.  **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Terraform (–ª–æ–∫–∞–ª—å–Ω–æ)**: –í–∏–∫–æ–Ω—É—î `terraform init -backend=false -reconfigure`, —â–æ–± Terraform –º—ñ–≥ —Å–ø–æ—á–∞—Ç–∫—É –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –ª–æ–∫–∞–ª—å–Ω–∏–º —Å—Ç–∞–Ω–æ–º. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –π–æ–º—É —Å—Ç–≤–æ—Ä–∏—Ç–∏ S3-–±–∞–∫–µ—Ç —Ç–∞ DynamoDB-—Ç–∞–±–ª–∏—Ü—é, —è–∫—ñ –ø–æ—Ç—ñ–º –±—É–¥—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è —è–∫ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π –±–µ–∫–µ–Ω–¥.
4.  **–ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –±–µ–∫–µ–Ω–¥—É**: –ó–∞–ø—É—Å–∫–∞—î `terraform apply -target=module.s3_backend_bootstrap` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è S3-–±–∞–∫–µ—Ç—É —Ç–∞ DynamoDB-—Ç–∞–±–ª–∏—Ü—ñ. –¶–µ–π –∫—Ä–æ–∫ —î —Ü—ñ–ª—å–æ–≤–∏–º, —Ç–æ–±—Ç–æ Terraform –ø—Ä–∞—Ü—é—î –ª–∏—à–µ –∑ —Ü–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º –º–æ–¥—É–ª–µ–º.
5.  **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è `backend.tf`**: –°—Ç–≤–æ—Ä—é—î –∞–±–æ –æ–Ω–æ–≤–ª—é—î —Ñ–∞–π–ª `backend.tf`, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –¥–ª—è –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ S3-–±–µ–∫–µ–Ω–¥—É, –≤–∫–∞–∑—É—é—á–∏ –Ω–∞ —â–æ–π–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π S3-–±–∞–∫–µ—Ç —Ç–∞ DynamoDB-—Ç–∞–±–ª–∏—Ü—é.
6.  **–ü–æ–≤—Ç–æ—Ä–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Terraform (–∑ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–º –±–µ–∫–µ–Ω–¥–æ–º)**: –í–∏–∫–æ–Ω—É—î `terraform init -reconfigure` –∑–Ω–æ–≤—É. –¶—å–æ–≥–æ —Ä–∞–∑—É Terraform –≤–∏—è–≤–∏—Ç—å —Ñ–∞–π–ª `backend.tf` —ñ –Ω–∞–ª–∞—à—Ç—É—î –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π –±–µ–∫–µ–Ω–¥. –Ø–∫—â–æ –ª–æ–∫–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω —ñ—Å–Ω—É—î, –≤—ñ–Ω –∑–∞–ø—Ä–æ–ø–æ–Ω—É—î –º—ñ–≥—Ä—É–≤–∞—Ç–∏ –π–æ–≥–æ –Ω–∞ S3-–±–µ–∫–µ–Ω–¥.
7.  **–ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —Ä–µ—à—Ç–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏**: –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ –±–µ–∫–µ–Ω–¥—É, —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞—î `terraform plan` —Ç–∞ `terraform apply` –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∞–±–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö —ñ–Ω—à–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤, –≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö —É `main.tf`.

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –∑–∞–±–µ–∑–ø–µ—á—É—î –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π —ñ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ Terraform.